【待解决】
6、AGV上报实时数据频率控制
9、停止扫图，坐标(0,0)位置切换问题（修改完后地图会有时候偏移，AGV也不见了）
11、局部路径绘制（代码写完未测试）
14、tcp优雅关闭（默认情况下，close()/closesocket() 会立即向网络中发送FIN包，不管输出缓冲区中是否还有数据，而shutdown() 会等输出缓冲区中的数据传输完毕再发送FIN包。也就意味着，调用 close()/closesocket() 将丢失输出缓冲区中的数据，而调用 shutdown() 不会。）
16、扫描到新的AGV，扫描的地图位置有时候显示不对，偶尔出现。
17、广播时，双网卡发送，有一个收不到。【待解决】原因一个UDP广播只能在一个子网内，跨子网不行，必须绑定多个。

21、待测试，pbstream数据转b64格式及保存，下发功能
37、默认配置文件存放路径、上传git。
38、【AGV控制器】配置文件解析后的车ID同步到文件，在程序中处理该ID。
40、下载地图、保存并下载地图功能完善
41、切标签保存地图建图玩会崩溃，未修复（DeletePathAndStationItem函数中删除命令队列数据时，delete已删除的item崩溃，已修改m_pMapView->ResetMap();【待验证】）
42、导航模式下，站点等是不能拖动的，只有在地图编辑模式下才可拖动站点等。（移动Item处进行了判断，停止导航后无法编辑地图）
46、发送路线导航过程中，AGV卡顿
49、导航过程，遥控器控制住AGV停车，过一会会报"agv到达目标点"
51、AGV倒着走的问题
52、下载地图后，agv_comm节点不重启，规划的路径不对，怀疑是地图更新有问题
53、停止建图后，没有切换到定位模式，报正在前往站点
54、AGV在目标点角度未到达，但返回"agv到达目标点"了
55、初始旋转控制

【未复现】
22、停止扫图后，接收的地图不对（未复现了）
30、停止建图，保存地图会崩溃（未复现了）
33、批量移动站点，有时候连接的路线未实时变化（未复现了）
27、地图添加拓扑路线后，某些情况下打开view滚动条很小（经测试发现debug调试时会出现）【暂时解决】
23、测试DeleteCallBackData函数的调用情况(暂未发现问题)

问王峰：
1、充电过程是什么样的，如何对接调度系统
2、充电站如何对接
3




【已解决】
1、收到坐标数据崩溃的问题  【已解决】(在点击扫描地图时，agvitem被删掉了)
4、AGV坐标计算 【已解决】旋转和平移都是依据上一次的
8、CTcpClientServer::ForceDisconnect崩溃（两个连接同时断开导致的assert问题）
7、地图坐标显示不对？【已解决】（左上角为啥不是整数，地图world坐标不对，第二个小数不应该那样变化）【答】地图world坐标就是那样变化的，agv实时坐标是底下算的，可能不是0.05的那样变化
10、接收扫描地图，页面刷新分块更新问题【已解决】不需要了，地图绘制足够快。
12、页面缩放控制【已解决】qss文件导致垂直滚动条问题
15、加载json文件显示的站点，拖动时，线段不移动【已解决】（因为拷贝地图时，path中的station指针需要重新赋值，因为它指向的是之前的站点）
13、直接关闭UI，崩溃（通讯线程未退出）【已解决】通过异步发送通知给通讯线程的loop,在异步回调中调用uv_stop(),uv_loop()会退出
19、设置拖拽QGraphicsView::ScrollHandDrag模式后，拖拽不了iTem了【已解决】必须通过设置NoDrag来清空view父类中的标记
18、建图控制、程序执行控制、当前AGV等等放到一个控制类中，这样清晰。【已解决】
19、先进一个离线AGV编辑地图，退出再进在线AGV，崩溃，additem有问题【已解决】view中deleteallitem()没有将m_pagvitem设置为nullptr，导致判断实效崩溃
22、AGV断线崩溃、模拟两个tcp服务，当AGVClient收到广播应答，连接超时时，程序崩溃【已解决】定时器资源被提前删除导致，通过计数器来解决
20、构建地图，地图Item偏了，AGVItem不见了有时候【已解决】地图读取json文件的originx变成整形了
15、扫描地图保存，文件名弹窗输入的问题。【已解决】保存成时间文件
3、日志打印乱序，日志库替换【已解决】日志库替换为glog
2、地图刷新太慢？（鼠标移动过程中就会刷新）方法：①qpixmap缓冲，②setpen()太慢，分两组数据进行绘制，③提前计算好坐标映射 【已解决】
20、测试移动站点到AGV位置、在agv位置添加站点两个功能【已解决】
18、撤销回退：站点批量移动，返回首页崩溃；删除站点保存，无法删除【已解决】
26、停止建图增加等待窗口【已解决】
19、程序退出时。qlabel崩溃问题（因为qlabel定义为了qobject派生类的类成员，解决办法：new出来父指针设定为widget）【已解决】
28、删除站点崩溃（删除站点时，连接的路线Imtem被从场景中移除了，但不知道为什么调用了线的paint()，此时mapmanager中已经没有该路线了，返回空调用崩溃）【已解决】
29、AGV主动断开崩溃（debug模式下会出现，是因为控制连接的uv_close回调不执行，在强制断开中，handle句柄为无效了导致再掉uv_close崩溃）【已解决】
33、从编辑地图tab页面离开，应该提示“是否保存并下发地图？”，同时应该将stackwidget隐藏。【已解决】
34、扫图过程中，地图不应该可编辑！（添加站点等子widget在扫图模式或导航模式下，直接隐藏）【已解决】
35、站点导航到达目标后，“站点导航”按钮名称还是“停止导航”【已解决】
24、AGV扫图中断开连接，重新扫描后建图崩溃（可能是通信问题导致的）【已解决】
31、agv断线，建图状态、目标站发送状态清除，AGV断线，只允许编辑地图【已解决】
36、AGVItem应该在最上层（通过设置setzvalue(1)，默认都是0）【已解决】
32、目标点到达崩溃【已解决】
45、站点坐标等，属性显示增加世界坐标类型【已解决】

44、导航过程中AGV断线，鼠标样式改为指针【已解决】
47、“移动到AGV处”在所选站点删除后，没禁用，导致崩溃【已解决】
50、点击保存按钮，再切换其他页面，还提示是否保存？
48、移动站点到AGV处，连续点击，站点角度会变化(原因：修改完Item角度，但内存站点角度忘修改了)
43、拔网线断开连接，底层检测不到断开？（agv_comm打断点会出现，修改uv_closetimers的位置在uv_close连接之前即可解决）【已解决】

【待完善的功能】
- UI美化与功能完善
	= 状态栏
	= 撤销回退功能（橡皮擦 线路编辑未添加）
	= 橡皮擦【已完成】
	= 地图检查
	= 站点自动适配（右键菜单，在AGV当前位置添加站点；右键站点：校正当前站点到AGV位姿【已完成】
- 地图和配置是否同步（通过计算文件md5值来进行比较）
- AGV相关指令完善
- AGV地图及配置文件
	= 加载地图文件【已完成】
	= 扫描的地图保存【已完成】
	= 下发地图包文件
	= 拉取地图包文件
- 各个版本号设计与控制